---
title: cork
type: input
status: beta
categories: ["Utility"]
---

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the contents of:
     lib/input/cork.go
-->

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

:::caution BETA
This component is mostly stable but breaking changes could still be made outside of major version releases if a fundamental problem with the component is found.
:::
Use signals from one input to suspend or resume reads from another input

```yaml
# Config fields, showing default values
input:
  label: ""
  cork:
    initially_corked: true
    input: null
    signal: null
```

This input operates in of two modes: corked and uncorked.
When corked, reading from the underlying input is suspended.
When uncorked, reading messages from the underlying input works as normal.

When there are no more messages on the signal input, this input will continue running with the last mode that was set.


## Fields

### `initially_corked`

Sets the cork mode at the start of the process


Type: `bool`  
Default: `true`  

### `input`

The input to wrap with a cork


Type: `input`  

### `signal`

An input that supplies cork/uncork signals.

It must produce one of two string values that control the read modes:

- `"cork"`: suspends reading from the underlying input
- `"uncork"`: resumes reading from the underlying input

Any other values are ignored.


Type: `input`  

```yaml
# Examples

signal:
  broker:
    inputs:
      - http_server:
          allowed_verbs:
            - POST
          path: /cork
        processors:
          - bloblang: root = "cork"
      - http_server:
          allowed_verbs:
            - POST
          path: /uncork
        processors:
          - bloblang: root = "uncork"
```


