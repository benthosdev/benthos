---
title: cuckoo
type: cache
status: beta
---

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the corresponding source file under internal/impl/<provider>.
-->

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

:::caution BETA
This component is mostly stable but breaking changes could still be made outside of major version releases if a fundamental problem with the component is found.
:::
Stores keys in a cuckoo in-memory filter, useful for deduplication. This cache is therefore reset every time the service restarts.

```yml
# Config fields, showing default values
label: ""
cuckoo:
  cap: 10000
  scalable: false
  init_values: []
```

This provides the cuckoo package which implements a fixed-size thread safe Cuckoo filter.

Cuckoo filter is a Bloom filter replacement for approximated set-membership queries. While Bloom filters are well-known space-efficient data structures to serve queries like "if item x is in a set?", they do not support deletion. Their variances to enable deletion (like counting Bloom filters) usually require much more space.

Cuckoo ﬁlters provide the ﬂexibility to add and remove items dynamically. A cuckoo filter is based on cuckoo hashing (and therefore named as cuckoo filter). It is essentially a cuckoo hash table storing each key's fingerprint. Cuckoo hash tables can be highly compact, thus a cuckoo filter could use less space than conventional Bloom ﬁlters, for applications that require low false positive rates (< 3%).

For details about the algorithm and citations please use this article for now[`Cuckoo Filter: Better Than Bloom`](https://www.cs.cmu.edu/~dga/papers/cuckoo-conext2014.pdf) by Bin Fan, Dave Andersen and Michael Kaminsky

It uses the package [`cuckoofilter`](github.com/seiflotfy/cuckoofilter)

The field init_values can be used to pre-populate the memory cache with any number of keys:

```yml
cache_resources:
  - label: foocache
    cuckoo:
      cap: 1024
      init_values:
        - foo
        - bar
```

These values can be overridden during execution.

## Fields

### `cap`

The cache maximum capacity (number of entries)


Type: `int`  
Default: `10000`  

### `scalable`

If true, will use a scalable cuckoo filter, that adapts the inner capacity based on usage


Type: `bool`  
Default: `false`  

### `init_values`

A table of keys that should be present in the cache on initialization. This can be used to create static lookup tables.


Type: `array`  
Default: `[]`  

```yml
# Examples

init_values:
  - Nickelback
  - Spice Girls
  - The Human League
```

This component implements all cache operations, however it does not store any value, only the keys.

The main intent is to be used on deduplication.

When fetch a key from this case, if the key exists, we return a fixed string`t`.

