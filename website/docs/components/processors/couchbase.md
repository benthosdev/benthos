---
title: couchbase
type: processor
status: experimental
categories: ["Integration"]
---

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the contents of:
     lib/processor/couchbase.go
-->

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

:::caution EXPERIMENTAL
This component is experimental and therefore subject to change or removal outside of major version releases.
:::
Performs operations against Couchbase for each message, allowing you to store or retrieve data within message payloads.

Introduced in version 4.10.0.


<Tabs defaultValue="common" values={[
  { label: 'Common', value: 'common', },
  { label: 'Advanced', value: 'advanced', },
]}>

<TabItem value="common">

```yml
# Common config fields, showing default values
label: ""
couchbase:
  url: ""
  username: ""
  password: ""
  bucket: ""
  id: ""
  content: ""
  operation: get
```

</TabItem>
<TabItem value="advanced">

```yml
# All config fields, showing default values
label: ""
couchbase:
  url: ""
  username: ""
  password: ""
  bucket: ""
  collection: _default
  transcoder: legacy
  timeout: ""
  id: ""
  content: ""
  operation: get
```

</TabItem>
</Tabs>

When inserting, replacing or upserting documents, each must have the `content` property set.

## Fields

### `url`

Couchbase connection string.


Type: `string`  

```yml
# Examples

url: couchbase://localhost:11210
```

### `username`

Username to connect to the cluster.


Type: `string`  

### `password`

Password to connect to the cluster.


Type: `string`  

### `bucket`

Couchbase bucket.


Type: `string`  

### `collection`

Bucket collection.


Type: `string`  
Default: `"_default"`  

### `transcoder`

Couchbase transcoder to use.


Type: `string`  
Default: `"legacy"`  

| Option | Summary |
|---|---|
| `json` | insert a new document. |
| `legacy` | creates a new document if it does not exist, if it does exist then it updates it. |
| `raw` | fetch a document. |
| `rawjson` | delete a document. |
| `rawstring` | replace the contents of a document. |


### `timeout`

Operation timeout.


Type: `string`  

### `id`

Document id.
This field supports [interpolation functions](/docs/configuration/interpolation#bloblang-queries).


Type: `string`  

```yml
# Examples

id: ${! meta("id") }
```

### `content`

Document content.


Type: `string`  

### `operation`

Couchbase operation to perform.


Type: `string`  
Default: `"get"`  

| Option | Summary |
|---|---|
| `get` | fetch a document. |
| `insert` | insert a new document. |
| `remove` | delete a document. |
| `replace` | replace the contents of a document. |
| `upsert` | creates a new document if it does not exist, if it does exist then it updates it. |



